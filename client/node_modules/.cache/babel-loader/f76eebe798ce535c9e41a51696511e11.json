{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tienp\\\\OneDrive\\\\Ta\\u0300i li\\xEA\\u0323u\\\\HK211\\\\Data Base\\\\Lab\\\\ass2\\\\client\\\\src\\\\router\\\\login\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport './login.css';\nimport { useHistory } from \"react-router-dom\";\nimport React, { useState } from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  let history = useHistory(); //Login\n\n  const [userID, setUserID] = useState('');\n  const [password, setPassword] = useState('');\n\n  const authLogin = res => {\n    let data = res.data;\n\n    if (data.length == 0) {\n      alert('You are not DBA');\n    } else {\n      localStorage.setItem('accessToken', true);\n      history.replace('/manager');\n    }\n  };\n\n  const loginSubmit = () => {\n    Axios.get('http://localhost:3001/api/user/login/', {\n      params: {\n        userID: userID,\n        password: password\n      }\n    }).then(res => authLogin(res));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"LoginForm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hospital DBA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Username\",\n        onChange: e => {\n          setUserID(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        onChange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loginSubmit,\n          children: \"LOGIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"miz79XIsG/P0ynu2CZ0KinFQE3A=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/tienp/OneDrive/Tài liệu/HK211/Data Base/Lab/ass2/client/src/router/login/login.js"],"names":["useHistory","React","useState","Axios","Login","history","userID","setUserID","password","setPassword","authLogin","res","data","length","alert","localStorage","setItem","replace","loginSubmit","get","params","then","e","target","value"],"mappings":";;;AAAA,OAAO,aAAP;AACA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAChB,MAAIC,OAAO,GAAGL,UAAU,EAAxB,CADgB,CAGhB;;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMQ,SAAS,GAAIC,GAAD,IAAS;AACvB,QAAIC,IAAI,GAAGD,GAAG,CAACC,IAAf;;AACA,QAAGA,IAAI,CAACC,MAAL,IAAe,CAAlB,EAAqB;AACjBC,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACH,KAFD,MAGI;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoC,IAApC;AACAX,MAAAA,OAAO,CAACY,OAAR,CAAiB,UAAjB;AACH;AACJ,GATD;;AAWA,QAAMC,WAAW,GAAG,MAAM;AACtBf,IAAAA,KAAK,CAACgB,GAAN,CAAU,uCAAV,EAAkD;AAC9CC,MAAAA,MAAM,EAAC;AACHd,QAAAA,MAAM,EAAEA,MADL;AAEHE,QAAAA,QAAQ,EAAEA;AAFP;AADuC,KAAlD,EAKGa,IALH,CAKSV,GAAD,IAASD,SAAS,CAACC,GAAD,CAL1B;AAMH,GAPD;;AASA,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,WAAW,EAAC,UAA/B;AAA0C,QAAA,QAAQ,EAAGW,CAAD,IAAO;AAACf,UAAAA,SAAS,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;AAA0B;AAAtF;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,WAAW,EAAC,UAAnC;AAA8C,QAAA,QAAQ,EAAGF,CAAD,IAAO;AAACb,UAAAA,WAAW,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA4B;AAA5F;AAAA;AAAA;AAAA;AAAA,cAHJ,eAKI;AAAA,+BACI;AAAQ,UAAA,OAAO,EAAEN,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH,CAxCD;;GAAMd,K;UACYJ,U;;;KADZI,K;AA0CN,eAAeA,KAAf","sourcesContent":["import './login.css';\r\nimport { useHistory } from \"react-router-dom\"\r\nimport React, {useState} from 'react'\r\nimport Axios from 'axios'\r\n\r\nconst Login = () => {\r\n    let history = useHistory()\r\n\r\n    //Login\r\n    const [userID, setUserID] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const authLogin = (res) => {\r\n        let data = res.data\r\n        if(data.length == 0) {\r\n            alert('You are not DBA')\r\n        }\r\n        else{\r\n            localStorage.setItem('accessToken', true)\r\n            history.replace ('/manager')\r\n        }\r\n    }\r\n\r\n    const loginSubmit = () => {\r\n        Axios.get('http://localhost:3001/api/user/login/',{\r\n            params:{\r\n                userID: userID,\r\n                password: password\r\n            }\r\n        }).then((res) => authLogin(res) )\r\n    }\r\n\r\n    return (\r\n        <div className=\"LoginForm\">\r\n            <div className=\"Login\">\r\n                <h1>Hospital DBA</h1>\r\n                <input type=\"text\" placeholder=\"Username\" onChange={(e) => {setUserID(e.target.value)}}/>\r\n                <input type=\"password\" placeholder=\"Password\" onChange={(e) => {setPassword(e.target.value)}}/>\r\n                \r\n                <div>\r\n                    <button onClick={loginSubmit}>LOGIN</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}